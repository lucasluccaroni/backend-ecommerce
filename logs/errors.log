{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"level":"fatal"}
{"kind":"ObjectId","level":"fatal","message":"CATCH EN CONTROLLER - deleteOldUsers Cast to ObjectId failed for value \"{ last_connection: { '$lt': 2024-07-26T17:00:00.000Z } }\" (type Object) at path \"_id\" for model \"User\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ last_connection: { '$lt': 2024-07-26T17:00:00.000Z } }\" (type Object) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\schemaType.js:1236:12)\n    at SchemaType.castForQuery (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\schemaType.js:1653:17)\n    at cast (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\cast.js:304:34)\n    at Query.cast (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:4857:12)\n    at Query._castConditions (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:2265:10)\n    at model.Query._findOneAndDelete (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:3492:8)\n    at model.Query.exec (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:4401:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UsersService.deleteOldUsers (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:235:26)","stringValue":"\"{ last_connection: { '$lt': 2024-07-26T17:00:00.000Z } }\"","value":{"last_connection":{"$lt":"2024-07-26T17:00:00.000Z"}},"valueType":"Object"}
{"level":"error"}
{"kind":"ObjectId","level":"fatal","message":"CATCH EN CONTROLLER - deleteOldUsers Cast to ObjectId failed for value \"{ last_connection: { '$lt': 'Fri Jul 26 2024' } }\" (type Object) at path \"_id\" for model \"User\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"{ last_connection: { '$lt': 'Fri Jul 26 2024' } }\" (type Object) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\schemaType.js:1236:12)\n    at SchemaType.castForQuery (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\schemaType.js:1653:17)\n    at cast (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\cast.js:304:34)\n    at Query.cast (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:4857:12)\n    at Query._castConditions (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:2265:10)\n    at model.Query._findOneAndDelete (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:3492:8)\n    at model.Query.exec (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\mongoose\\lib\\query.js:4401:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UsersService.deleteOldUsers (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:235:26)","stringValue":"\"{ last_connection: { '$lt': 'Fri Jul 26 2024' } }\"","value":{"last_connection":{"$lt":"Fri Jul 26 2024"}},"valueType":"Object"}
{"level":"error"}
{"level":"error"}
{"level":"fatal","message":"CATCH EN CONTROLLER - deleteOldUsers newDate is not defined","stack":"ReferenceError: newDate is not defined\n    at UsersService.deleteOldUsers (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:237:23)\n    at UsersController.deleteOldUsers (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\controllers\\users.controller.js:151:55)\n    at D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\routes\\users.router.js:55:26\n    at Layer.handle [as handle_request] (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error"}
{"level":"fatal","message":"CATCH EN CONTROLLER - deleteOldUsers newDate is not defined","stack":"ReferenceError: newDate is not defined\n    at UsersService.deleteOldUsers (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:237:23)\n    at UsersController.deleteOldUsers (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\controllers\\users.controller.js:151:55)\n    at D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\routes\\users.router.js:55:26\n    at Layer.handle [as handle_request] (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"error"}
{"level":"fatal","message":"CATCH EN CONTROLLER - deleteOneUser Cannot access 'user' before initialization","stack":"ReferenceError: Cannot access 'user' before initialization\n    at UsersService.deleteOneUser (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:247:45)\n    at UsersController.deleteOneUser (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\controllers\\users.controller.js:174:54)\n    at D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\routes\\users.router.js:67:44\n    at Layer.handle [as handle_request] (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\node_modules\\express\\lib\\router\\index.js:376:14)"}
{"level":"error"}
{"level":"fatal","message":"CATCH EN CONTROLLER - deleteOneUser id is not defined","stack":"ReferenceError: id is not defined\n    at UsersService.deleteOneUser (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:252:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UsersController.deleteOneUser (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\controllers\\users.controller.js:174:35)\n    at async D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\routes\\users.router.js:67:31"}
{"level":"error"}
{"level":"fatal","message":"CATCH EN CONTROLLER - deleteOneUser id is not defined","stack":"ReferenceError: id is not defined\n    at UsersService.deleteOneUser (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:252:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UsersController.deleteOneUser (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\controllers\\users.controller.js:174:35)\n    at async D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\routes\\users.router.js:67:31"}
{"level":"fatal","message":"CATCH EN CONTROLLER - changeRoleAdmin id is not defined","stack":"ReferenceError: id is not defined\n    at UsersService.changeRoleAdmin (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\service\\users-service.js:284:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UsersController.changeRoleAdmin (D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\controllers\\users.controller.js:190:37)\n    at async D:\\CODERHOUSE\\BACKEND\\PROYECTO FINAL\\src\\routes\\users.router.js:72:33"}
{"level":"error"}
